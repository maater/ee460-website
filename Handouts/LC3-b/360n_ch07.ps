%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: 360n.ch07.dvi
%%Pages: 12
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman Symbol CMR10 Times-Italic
%%+ Courier CMMI10 Courier-Bold
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips 360n.ch07
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.09.10:1112
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 58 /period put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
/UniqueXX 5087385 def
currentdict end
currentfile eexec
80347982ab3942d930e069a70d0d48311d725e830d1c76fba12e12486e989c98
74c2b527f0925722787027f44470d484262c360cdfdddf3657533a57bb16f730
48bfbbfcb73a650484015441fdc837add94ac8fbd2022e3ec8f115d4b4bb7b7f
15388f22cc6198efe768bd9fceb3446ee4a8dc27d6cd152485384ef5f59381ff
da43f2d20c8fb08aa27ab2015b774db10dacfdcd33e60f178c461553146ab427
bdd7da12534ba078ad3d780414930da4f8d58abefd45db119b10eb409dd89792
3c6e705479464a4b310b58348c4b42393988fef4925cf984423aaf65fea9f0e6
4629953bcf50b919d968d99bd185f83112b2759cc411764e9bde677f57c5ee5a
c555448d5f81a16259ded1e11bf4119d53e8ab07a802df900d3a2d5ccc1c6876
d29c5e9effb7af3ef83400b0910c07873a8c56fa7b1eb1ba426043b00cc95dbe
dc6e136cbbbcb3f67509964f9f281ebf81fe5b018122eaf66c4a838487e82e18
6e006093042848a903efb3469ab6b4049767aadb95c30408dfd58d8a10f4cb22
168decd9f3ee100f07b49aa44c92139b669cc312ba20192454eb2375be6284b0
26659d964b96ae82d4942e758027fcf23c25ed01115af27ce7f20efe2a822bb6
84004f20243a49c9e93301fc21b80815c033c3e2ba58ef53da2157d524b395f2
b37abca13bc6a2f42e824ab7e47106176b0d6db267fbb795ac7425582df2e3dc
55863468a9200742bd7b552c48f8cf58bc21343bd3b95abfa140f33f37c6f3f7
8b0d8a5154eb7c1f62ec598267f13e841a3e64172663935ac8b665d86540d316
ddece329c008049c5e74b27d59022c5515059bc3b89370b1bc6a169c888bb325
e0b74282d6f053a50da4024ed1e433271a32ab8c17d41c632b41cf9f3ecd5fe1
24daf7aea7ce8a63047b245822930d517df7baaafa69d2d17f7d93cebd45416d
f3459365434123a76ccf883a4973bab19807e1f0c4bab03a45f7ed69ff2660ff
3963e4def11001eec4238c368a39d874fd30b3c14f4186ec7700fbce22abe468
eb32baf7b0164f8f21a9b5e706b91411faaa44467cb2180ab03de375c1ab93e9
76e11ab92fdd4a7280a6d1a8dc65c4c89d04c8ed6988045a2a3de9a4c7b1efd3
75b79ee3d49569213fcb818f6f1cf250f5e595c4b2d090c769e9fc42bfcd2e99
512d0cfa089c727bf03d886a3f35f6b38197e9407725810a0448593ee7e8d68c
c7f44c03ebbd363e6059b5728e35e35a1c31a1b8883a3bdea7e2b7fa7a9f5f86
9b5ebc71fe69ea4fd3162ee4de21acce7e177c6c9d2b2aa6712008319f3069a3
33348cae6a5958ae5ad50a423c4bc17facf60c109e33245b7c4c9f043e6e8d5b
f71f578d6cd1fe0d204500495c52ba0652ee8efd17f753764a4c675386e7a169
0323b6889746191d684e59828d032049d16e1689
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 43 /plus put
dup 61 /equal put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
/UniqueXX 5000793 def
currentdict end
currentfile eexec
8053514d28ec28da1630165fab262882d3fca78881823c5537fe6c3dda8ee5b8
97e17cb027f5c73fdbb56b0a7c25fc3512b55fe8f3acfbffcc7f4a382d8299cc
8fd37d3cea49dabdca92847af0560b404ef71134b0f3d99934fc9d0b4e602011
b9cfb856c23f958f3c5a2fbe0ef8587d1f5774879c324e51fcb22888b74f2415
50d7401eb990d4f3a7af635198422283cac1b6cd446ddbcbd915db9bff88844e
784c6bf7389803d9450b0c21756a017306457c7e62c1d269f306bd3402e266de
fc3b5e7d8a8d2f5bf0fe6ddd40d07391df4fad4a6018dce29a2b8f692b29f202
3a7c0e66de8ed85c14f1f8492167357f51a7e84cc5d92e0fee4d81cf7fbc8de5
2d2e7bb57142033993f9c08c315abade8dbc4a732e84e142d3bee51557910e12
cd8aa37c459a5e6b7f5269f59078aba3be4641a11ac48d0b625c8325b38ec08e
4c9e5e7fed976a5650d99d82114f449b9ca14c4ec957702295a39a93ef93f618
99b8ea06b092c3c1e503e6e436e0a9fa22576c8930ab3dc8c20f5d82b69cddf8
ff4dacfa9c54bed5a3aa3ea5b129fe96be632843b9b6bc91b615581a985db56b
1e01ca60ee69ca92cf5c0882ece62edad3e106d835348822400f0b66af658f2a
e56ed08f8b0010571807009b73ab12a8cf14ca6c71f03c2a48c500f9d62266af
154a6375ff600d9bac3f05ce34142d6867a79581c533176bb2f3117336671e2e
44638a97167e2ea9644e31ea16c2ad2990ea33c54001e0c8156e6de8ab6a4d40
a7137ba275f39589fea2e2db8256adc103d6f9cc038037a47e8fd469c5f98a5e
3c15bd4ace40d340018b1cff7d1ed8abb0ac57b5b5a2c20a51957b96c453edb7
dae5affd91a46d938fe0a13363001d844ded4323f1ee6d30012aea19b024a552
315505535c85dc26bad31e09c50e6512802976d298c4e90d0044c362e6bf3ab3
62a454ee93de25ce54411090c29e9d75c80ce26a84404bd9de3aee0e3f921ac5
87f907572b8354a5c3165eea7e8b2ba4e4f834663063e9a307d8ff6f8b61acd8
799bc105cddcf8f95f2160494fc01f7ec3effb95de571b8d7f27a2f9ad203c09
cd4cffd98a119a507460e7fef5c910405e877aa1f8da68d1272e59e3adccef8d
82e692b3229926fbe621080b7831a2ee248948dd3ae55082a939f02875a7a0eb
7ae7d50270a576fbdfde7109c670f51be75b80b6fe3045ea50e2121025dfefb3
ab99e4f56a608203a590a3fa689226e987f4750e6e8c46cddeff949956281781
efe68b0825e4f20fa57ceb583ade33b64507ef60ab44087931793378dd78e0d9
475cf9b4c051ec345075f2851ba6f0c458326ba4558ab0e8cc23b511bd9eef5e
6a5c3070dc393e6ae127417f52cdf8b5149e6cac015c369ed82aab3b96290928
b4a32cbaac82a07ee2a6d7274a1e8754b022c232d847fd5b8aa42a3a7d999257
d818d125198147c6c3a901dfb0cb03a4b76068ad20d52a416bd718136235a884
d16690a481149316742fcf206c322eee3b005c94ed1792d8e00899ff859d37d4
fb5916ac9fe42c9f492333f4d65240e313a8a048e0653d005bc8c8071370c2ba
29d6a1f4b8ec37a3bd63b84fe2dbe3e55c8adcc468fc6acb3132055187d0823e
203af52cb31182acb3f9ed43d3a27a1c33bcf60a4a3a92ccb2eee8e329b2ba4f
d6c9148e3064c2805468276d463df06466a2405dc637e12528066ed2bbef3569
9f7a959a8150dbfa92b727f90dba137099da
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
TeXDict begin 39158280 55380996 1000 600 600 (360n.ch07.dvi)
@start /Fa 134[50 50 4[50 50 2[50 1[50 50 6[50 50 1[50
12[50 50 50 50 1[50 50 2[50 2[50 50 50 1[50 1[50 1[50
6[50 1[50 4[50 50 50 50 3[50 44[{TeXBase1Encoding ReEncodeFont}30
83.022 /Courier-Bold rf /Fb 197[23 58[{}1 83.022 /CMMI10
rf /Fc 134[42 4[28 32 37 1[46 42 46 69 23 6[37 46 37
46 42 6[55 2[83 2[55 46 60 2[65 60 1[55 65 1[32 1[65
51 55 60 60 55 19[21 46[{TeXBase1Encoding ReEncodeFont}31
83.022 /Times-Bold rf /Fd 166[60 3[60 51 46 55 1[46 60
60 74 51 3[60 60 1[51 1[55 55 60 9[42 3[42 42 42 2[21
28 45[{.167 SlantFont TeXBase1Encoding ReEncodeFont}22
83.022 /Times-Roman rf /Fe 133[42 42 42 42 42 42 42 42
42 1[42 42 42 42 42 42 1[42 42 42 42 42 42 42 42 42 6[42
1[42 42 1[42 42 42 42 1[42 42 42 42 42 42 1[42 42 42
42 42 42 42 42 42 3[42 1[42 42 42 42 42 42 42 42 42 42
42 42 1[42 42 42 8[42 42 42 33[{
.85 ExtendFont TeXBase1Encoding ReEncodeFont}65 83.022
/Courier rf /Ff 134[50 50 72 50 55 33 39 44 1[55 50 55
83 28 2[28 55 50 1[44 55 44 55 50 12[66 55 2[61 2[94
66 2[39 1[78 61 66 72 72 1[72 6[33 2[50 3[50 50 50 2[25
33 3[33 33 40[{TeXBase1Encoding ReEncodeFont}42 99.6264
/Times-Bold rf /Fg 134[37 2[37 42 23 32 32 2[42 42 60
23 2[23 3[37 42 37 42 42 11[60 2[51 3[55 69 7[51 2[51
7[28 58[{TeXBase1Encoding ReEncodeFont}23 83.022 /Times-Italic
rf /Fh 194[65 17[65 43[{}2 83.022 /CMR10 rf /Fj 134[60
3[66 1[47 53 2[60 66 100 33 3[66 60 1[53 1[53 66 60 12[80
3[73 3[80 8[86 1[86 9[60 3[60 60 60 2[30 40 45[{
TeXBase1Encoding ReEncodeFont}25 119.552 /Times-Bold
rf /Fk 104[83 42 1[37 37 24[37 42 42 60 42 42 23 32 28
42 42 42 42 65 23 42 23 23 42 42 28 37 42 37 42 37 3[28
1[28 51 60 60 78 1[60 51 46 55 1[46 60 60 74 51 60 1[28
60 60 46 51 60 55 55 60 5[23 23 42 42 42 42 42 42 42
42 42 42 23 21 28 21 47 1[28 28 28 3[42 32[46 2[{
TeXBase1Encoding ReEncodeFont}77 83.022 /Times-Roman
rf /Fl 134[103 3[115 1[80 4[115 172 57 4[103 1[92 2[115
103 20[138 10[149 65[{TeXBase1Encoding ReEncodeFont}12
206.559 /Times-Bold rf /Fm 139[57 1[76 1[96 7[96 2[76
3[86 29[124 11[86 55[{TeXBase1Encoding ReEncodeFont}8
172.188 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 143 1
143 0 bop 291 1553 a Fm(Chapter)44 b(7)291 1968 y Fl(Assembly)52
b(Language)291 2400 y Fk(The)21 b(follo)n(wing)f(is)j(pro)o(vided)d(as)
i(reference)e(material)i(to)g(the)g(Assembly)f(process,)h(and)f(the)h
(LC-)291 2500 y(3b)c(Assembly)g(Language.)k(It)c(has)h(been)f(e)o
(xtracted)f(from)g(Intro)g(to)i(Computing)d(Systems:)25
b(From)291 2599 y(bits)e(and)f(gates)g(to)h(C)h(and)e(be)o(yond,)f(2e,)
i(McGra)o(w-Hill,)f(2004.)31 b(In)23 b(my)f(ur)o(genc)o(y)e(to)j(get)g
(this)g(on)291 2699 y(the)15 b(web)h(site,)i(I)e(may)f(ha)n(v)o(e)h
(inadv)o(ertently)d(created)i(inconsistencies.)23 b(If)16
b(you)f(\002nd)g(an)o(ything)f(here)291 2798 y(that)26
b(is)g(missing)g(an)g(antecedent)e(or)i(otherwise)f(mak)o(es)h(no)f
(sense,)j(please)e(contact)f(me)h(and/or)291 2898 y(one)19
b(of)h(the)g(T)-8 b(As.)26 b(\226)20 b(Y)-8 b(ale)21
b(P)o(att)291 3176 y Fj(7.1)119 b(LC-3b)30 b(Assembly)f(Language)291
3361 y Fk(W)-7 b(e)30 b(will)f(be)o(gin)f(our)g(study)h(of)f(the)h
(LC-3b)g(assembly)f(language)f(by)i(means)g(of)f(an)h(e)o(xample.)291
3461 y(The)21 b(program)e(in)j(Figure)f(7.1)g(multiplies)g(the)g
(positi)n(v)o(e)g(inte)o(ger)g(initially)g(stored)g(in)h(NUMBER)291
3560 y(by)g(six)i(by)f(adding)f(the)h(inte)o(ger)f(to)i(itself)g(six)f
(times.)35 b(F)o(or)23 b(e)o(xample,)f(if)i(the)f(inte)o(ger)f(is)i
(123,)f(the)291 3660 y(program)18 b(computes)h(the)h(product)e(by)i
(adding)f(123)12 b Fh(+)g Fk(123)g Fh(+)g Fk(1)o(23)f
Fh(+)g Fk(12)o(3)g Fh(+)g Fk(12)o(3)g Fh(+)g Fk(12)o(3.)415
3760 y(The)17 b(program)e(consists)j(of)f(21)g(lines)h(of)f(code.)23
b(W)-7 b(e)19 b(ha)n(v)o(e)e(added)f(a)i Fg(line)f(number)g
Fk(to)g(each)g(line)291 3859 y(of)j(the)h(program)e(in)j(order)d(to)j
(be)f(able)g(to)g(refer)f(to)h(indi)n(vidual)f(lines)h(easily)-5
b(.)28 b(This)21 b(is)h(a)f(common)291 3959 y(practice.)32
b(These)22 b(line)h(numbers)e(are)i(not)g(part)f(of)h(the)f(program.)31
b(T)-6 b(en)23 b(lines)g(start)g(with)g(a)g(semi-)291
4058 y(colon,)h(designating)g(that)g(the)o(y)h(are)f(strictly)h(for)f
(the)h(bene\002t)g(of)f(the)h(human)e(reader)-5 b(.)39
b(More)24 b(on)291 4158 y(this)f(momentarily)-5 b(.)29
b(Se)n(v)o(en)22 b(lines)g(\(06,)h(07,)f(08,)g(0C,)h(0D,)f(0E,)g(and)g
(10\))g(specify)g(actual)g(instruc-)291 4258 y(tions)g(to)g(be)g
(translated)f(into)h(instructions)f(in)h(the)g(ISA)g(of)g(the)g(LC-3b,)
g(which)f(will)i(actually)e(be)291 4357 y(carried)e(out)h(when)g(the)h
(program)d(runs.)26 b(The)20 b(remaining)f(four)h(lines)h(\(05,)e(12,)h
(13,)g(and)g(15\))g(con-)291 4457 y(tain)k(pseudo-ops,which)d(are)k
(messages)g(from)e(the)i(programmer)c(to)k(the)g(translation)f(program)
291 4557 y(to)h(help)f(in)i(the)f(translation)f(process.)39
b(The)25 b(translation)f(program)f(is)j(called)f(an)g
Fg(assembler)h Fk(\(in)291 4656 y(this)20 b(case)h(the)f(LC-3b)g
(assembler\),)f(and)g(the)i(translation)e(process)h(is)h(called)f
Fg(assembly)p Fk(.)291 4991 y Ff(7.1.1)98 b(Instructions)291
5146 y Fk(Instead)25 b(of)i(an)f(instruction)f(being)h(16)g(0s)h(and)f
(1s,)i(as)f(is)h(the)e(case)h(in)g(the)g(LC-3b)f(ISA,)g(an)h(in-)291
5246 y(struction)19 b(in)h(assembly)g(language)e(consists)j(of)f(four)f
(parts,)h(as)h(sho)n(wn)e(belo)n(w:)291 5414 y Fe(LABEL)128
b(OPCODE)h(OPERANDS)h(;)43 b(COMMENTS)1660 5624 y Fk(143)p
eop
%%Page: 144 2
144 1 bop 739 697 a Fk(144)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)739 899 y Fe(01)85
b(;)739 998 y(02)g(;)43 b(Program)i(to)e(multiply)i(an)e(integer)i(by)e
(the)g(constant)i(6.)739 1098 y(03)85 b(;)43 b(Before)h(execution,)i
(an)d(integer)i(must)f(be)f(stored)h(in)f(NUMBER.)739
1198 y(04)739 1297 y(05)424 b(.ORIG)129 b(x3050)739 1397
y(06)212 b(LEA)h(R2,NUMBER)739 1496 y(07)424 b(LDW)213
b(R2,R2,#0)739 1596 y(08)f(LEA)h(R1,SIX)739 1696 y(09)424
b(LDW)213 b(R1,R1,#0)739 1795 y(0A)424 b(AND)213 b(R3,R3,#0)256
b(;)43 b(Clear)h(R3.)g(It)f(will)739 1895 y(0B)1355 b(;)43
b(contain)i(the)e(product.)739 1995 y(0C)85 b(;)43 b(The)g(inner)h
(loop)739 2094 y(0D)85 b(;)739 2194 y(0E)g(AGAIN)129
b(ADD)213 b(R3,R3,R2)739 2293 y(0F)424 b(ADD)213 b(R1,R1,#-1)h(;)43
b(R1)g(keeps)h(track)g(of)739 2393 y(10)424 b(BRp)213
b(AGAIN)382 b(;)43 b(the)h(iterations)739 2493 y(11)85
b(;)739 2592 y(12)424 b(HALT)739 2692 y(13)85 b(;)739
2792 y(14)g(NUMBER)i(.BLKW)129 b(1)739 2891 y(15)85 b(SIX)213
b(.FILL)129 b(x0006)739 2991 y(16)85 b(;)739 3090 y(17)424
b(.END)1449 3356 y Fk(Figure)20 b(7.1:)k(An)c(assembly)g(language)f
(program)739 3610 y(T)-7 b(w)o(o)20 b(of)g(the)g(parts)g(\(LABEL)g(and)
g(COMMENTS\))f(are)h(optional.)k(More)c(on)f(that)h(momentarily)-5
b(.)739 3829 y Fc(Opcodes)20 b(and)h(Operands)739 3984
y Fk(T)-7 b(w)o(o)26 b(of)g(the)g(parts)g(\(OPCODE)h(and)e(OPERANDS\))i
(are)f Fc(mandatory)p Fk(.)41 b(An)26 b(instruction)f(must)739
4084 y(ha)n(v)o(e)g(an)h(OPCODE)g(\(the)g(thing)f(the)g(instruction)g
(is)i(to)f(do\),)g(and)f(the)h(appropriate)d(number)h(of)739
4184 y(operands)18 b(\(the)i(things)g(it)h(is)g(supposed)e(to)h(do)g
(it)h(to\).)863 4283 y(The)i(OPCODE)h(is)g(a)g(symbolic)e(name)h(for)g
(the)g(opcode)e(of)i(the)h(corresponding)19 b(LC-3b)k(in-)739
4383 y(struction.)30 b(The)21 b(idea)h(is)h(that)g(it)f(is)h(easier)g
(to)f(remember)e(an)i(operation)e(by)i(the)g(symbolic)f(name)739
4482 y(ADD,)f(AND,)h(or)e(LD)n(W)i(than)f(by)f(the)h(four)n(-bit)f
(quantity)g(0001,0101,)d(or)k(0110.)863 4582 y(The)i(number)e(of)h
(operands)f(depends)g(on)h(the)h(operation)e(being)g(performed.)27
b(F)o(or)21 b(e)o(xample,)739 4682 y(the)f(ADD)h(instruction)e(\(line)i
(0E\))f(requires)f(three)h(operands)f(\(tw)o(o)h(sources)g(to)h(obtain)
e(the)i(num-)739 4781 y(bers)e(to)h(be)f(added,)f(and)h(one)f
(destination)g(to)i(designate)e(where)h(the)g(result)h(is)g(to)f(be)h
(placed\).)j(All)739 4881 y(three)d(operands)e(must)i(be)g(e)o
(xplicitly)g(identi\002ed)f(in)h(the)h(instruction.)739
5048 y Fe(AGAIN)171 b(ADD)f(R3,R3,R2)739 5214 y Fk(The)22
b(operands)e(to)j(be)f(added)f(are)h(obtained)f(from)g(re)o(gister)h(2)
g(and)g(from)f(re)o(gister)h(3.)31 b(The)22 b(result)739
5314 y(is)h(to)f(be)g(placed)f(in)h(re)o(gister)f(3.)30
b(W)-7 b(e)23 b(represent)e(each)h(of)f(the)h(re)o(gisters)g(0)g
(through)d(7)j(as)h(R0,)g(R2,)739 5414 y Fb(:)9 b(:)g(:)21
b Fk(,)g(R7.)p eop
%%Page: 145 3
145 2 bop 291 697 a Fd(7.1.)45 b(LC-3B)20 b(ASSEMBL)-8
b(Y)20 b(LANGU)m(A)m(GE)1406 b Fk(145)415 930 y(The)22
b(LEA)h(instruction)e(\(line)i(06\))f(requires)f(tw)o(o)i(operands)e
(\(the)h(memory)f(location)h(whose)291 1030 y(address)e(is)i(to)f(be)f
(read\))g(and)g(the)h(destination)f(re)o(gister)g(which)g(is)i(to)f
(contain)f(that)g(address)h(after)291 1130 y(the)j(instruction)f
(completes)g(e)o(x)o(ecution.)35 b(W)-7 b(e)25 b(will)g(see)g
(momentarily)d(that)j(memory)d(locations)291 1229 y(will)d(be)f(gi)n(v)
o(en)f(symbolic)h(addresses)g(called)g Fg(labels)p Fk(.)24
b(In)18 b(this)h(case,)g(the)f(location)g(whose)g(address)291
1329 y(is)k(to)f(be)g(read)g(is)h(gi)n(v)o(en)e(the)h(label)g
Fg(NUMBER)p Fk(.)g(The)g(destination)f(into)h(which)f(that)h(address)g
(is)h(to)291 1429 y(be)e(loaded)f(is)i(re)o(gister)e(2.)291
1611 y Fe(LEA)128 b(R2,)43 b(NUMBER)291 1794 y Fk(As)26
b(we)g(discussed)g(in)g(class,)i(operands)c(can)h(be)h(obtained)e(from)
h(re)o(gisters,)h(from)f(memory)-5 b(,)25 b(or)291 1893
y(the)o(y)g(may)h(be)h(literal)f(\(i.e.,)i(immediate\))d(v)n(alues)h
(in)h(the)f(instruction.)42 b(In)27 b(the)f(case)h(of)f(re)o(gister)291
1993 y(operands,)h(the)h(re)o(gisters)g(are)f(e)o(xplicitly)g
(represented)f(\(such)i(as)g(R2)g(and)g(R3)g(in)g(line)g(0C\).)g(In)291
2093 y(the)21 b(case)h(of)f(memory)e(operands,)h(the)i(symbolic)e(name)
h(of)g(the)g(memory)f(location)g(is)i(e)o(xplicitly)291
2192 y(represented)15 b(\(such)i(as)i(NUMBER)f(in)g(line)g(06)f(and)g
(SIX)h(in)g(line)g(08\).)23 b(In)17 b(the)h(case)g(of)f(immediate)291
2292 y(operands,)h(the)i(actual)g(v)n(alue)g(is)h(e)o(xplicitly)e
(represented)f(\(such)i(as)h(the)f(v)n(alue)f(0)i(in)f(line)g(0A\).)291
2475 y Fe(AND)85 b(R3,)44 b(R3,)f(#0)g(;)g(Clear)h(R3.)f(It)g(will)h
(contain)h(the)e(product.)291 2657 y Fk(A)17 b(literal)f(v)n(alue)g
(must)h(contain)e(a)i(symbol)e(identifying)g(the)h(representation)f
(base)h(of)h(the)f(number)-5 b(.)291 2757 y(W)e(e)31
b(use)f(#)g(for)f(decimal,)j(x)e(for)f(he)o(xadecimal,)h(and)f(b)h(for)
g(binary)-5 b(.)52 b(Sometimes)30 b(there)f(is)i(no)291
2857 y(ambiguity)-5 b(,)20 b(such)h(as)i(in)f(the)g(case)h(3F0A,)e
(which)h(is)h(a)f(he)o(x)f(number)-5 b(.)29 b(Nonetheless,)22
b(we)g(write)h(it)291 2956 y(as)16 b(x3F0A.)f(Sometimes)g(there)h(is)h
(ambiguity)-5 b(,)14 b(such)i(as)g(in)g(the)g(case)g(1000.)22
b(x1000)14 b(represents)h(the)291 3056 y(decimal)23 b(number)f(4096,)i
(b1000)e(represents)h(the)h(decimal)g(number)e(8,)j(and)e(#1000)f
(represents)291 3155 y(the)e(decimal)f(number)g(1000.)291
3376 y Fc(Labels)291 3532 y Fk(Labels)26 b(are)g(symbolic)g(names)g
(which)g(are)g(used)g(to)h(identify)e(memory)g(locations)h(that)g(are)h
(re-)291 3632 y(ferred)e(to)i(e)o(xplicitly)f(in)h(the)g(program.)42
b(In)27 b(LC-3b)f(assembly)g(language,)g(a)i(label)e(consists)i(of)291
3731 y(from)17 b(one)i(to)g(20)f(alphanumeric)e(characters)i(\(i.e.,)h
(a)g(capital)g(or)f(lo)n(wer)h(case)g(letter)g(of)g(the)f(alpha-)291
3831 y(bet,)24 b(or)g(a)g(decimal)f(digit\),)h(starting)g(with)g(a)g
(letter)g(of)g(the)g(alphabet.)34 b(NO)m(W)-8 b(,)25
b(Under21,)e(R2D2,)291 3931 y(and)c(C3PO)i(are)f(all)h(e)o(xamples)e
(of)h(possible)g(LC-3b)f(assembly)h(language)e(labels.)415
4030 y(There)h(are)i(tw)o(o)f(reasons)g(for)f(e)o(xplicitly)h
(referring)e(to)i(a)h(memory)d(location.)394 4213 y(1.)41
b(The)20 b(location)g(contains)g(the)g(tar)o(get)g(of)g(a)h(branch)e
(instruction)h(\(for)f(e)o(xample,)g(A)m(GAIN)h(in)498
4313 y(line)g(0E\).)394 4479 y(2.)41 b(The)24 b(location)f(contains)g
(a)h(v)n(alue)f(that)h(is)h(loaded)e(or)g(stored)h(\(for)f(e)o(xample,)
g(NUMBER,)498 4578 y(line)d(14,)g(and)g(SIX,)g(line)g(15\).)291
4761 y(The)f(location)h(A)m(GAIN)g(is)h(speci\002cally)f(referenced)e
(by)h(the)i(branch)d(instruction)h(in)h(line)h(10.)291
4943 y Fe(BRp)128 b(AGAIN)291 5126 y Fk(If)23 b(the)g(result)h(of)f
(ADD)h(R1,R1,#\2261)e(is)i(positi)n(v)o(e)f(\(as)h(e)n(videnced)d(by)j
(the)f(P)h(condition)e(code)h(be-)291 5226 y(ing)f(set\),)h(then)g(the)
f(program)f(branches)g(to)i(the)g(location)e(e)o(xplicitly)h
(referenced)f(as)i(A)m(GAIN)f(to)291 5325 y(perform)c(another)g
(iteration.)p eop
%%Page: 146 4
146 3 bop 739 697 a Fk(146)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)863 930 y Fk(The)c(location)f
(NUMBER)i(is)g(speci\002cally)e(referenced)f(by)i(the)g(LEA)g
(instruction)e(in)i(line)g(06.)739 1030 y(The)22 b(v)n(alue)h(stored)f
(in)h(the)g(memory)e(location)h(e)o(xplicitly)f(referenced)g(as)j
(NUMBER)f(is)h(loaded)739 1130 y(into)c(R2.)863 1229
y(If)28 b(a)f(location)g(in)g(the)g(program)e(is)k(not)e(e)o(xplicitly)
f(referenced,)g(then)h(there)g(is)h(no)f(need)g(to)739
1329 y(gi)n(v)o(e)19 b(it)i(a)g(label.)739 1550 y Fc(Comments)739
1706 y Fk(Comments)j(are)g(messages)h(intended)e(only)h(for)g(human)f
(consumption.)36 b(The)o(y)23 b(ha)n(v)o(e)h(no)g(ef)n(fect)739
1805 y(on)e(the)g(translation)g(process)g(and)g(indeed)f(are)h(not)h
(acted)f(on)g(by)g(the)g(LC-3b)g(Assembler)-5 b(.)32
b(The)o(y)739 1905 y(are)22 b(identi\002ed)g(in)g(the)h(program)d(by)i
(semicolons.)30 b(A)23 b(semicolon)e(signi\002es)i(that)f(the)h(rest)g
(of)f(the)739 2005 y(line)j(is)h(a)f(comment)f(and)h(is)h(to)f(be)g
(ignored)e(by)i(the)g(assembler)-5 b(.)39 b(If)25 b(the)g(semicolon)f
(is)i(the)f(\002rst)739 2104 y(non-blank)18 b(character)h(on)h(the)h
(line,)f(the)h(entire)f(line)h(is)h(ignored.)i(If)c(the)h(semicolon)f
(follo)n(ws)g(the)739 2204 y(operands)e(of)i(an)g(instruction,)f(then)h
(only)f(the)h(comment)f(is)i(ignored)e(by)g(the)i(assembler)-5
b(.)863 2303 y(The)32 b(purpose)f(of)h(comments)f(is)i(to)f(mak)o(e)g
(the)g(program)e(more)i(comprehensible)d(to)k(the)739
2403 y(human)28 b(reader)-5 b(.)53 b(The)o(y)28 b(help)h(e)o(xplain)g
(a)h(nonintuiti)n(v)o(e)d(aspect)j(of)f(an)h(instruction)e(or)h(a)i
(set)f(of)739 2503 y(instructions.)36 b(In)24 b(line)h(0A,)f(the)g
(comment)f(\223Clear)i(R3;)i(it)e(will)g(contain)f(the)g(product\224)e
(lets)k(the)739 2602 y(reader)j(kno)n(w)g(that)h(the)g(instruction)f
(on)h(line)g(0A)g(is)h(initializing)f(R3)g(prior)g(to)g(accumulating)
739 2702 y(the)23 b(product)f(of)h(the)h(tw)o(o)g(numbers.)33
b(While)24 b(the)g(purpose)d(of)j(line)f(0A)h(may)f(be)g(ob)o(vious)f
(to)i(the)739 2802 y(programmer)e(today)-5 b(,)24 b(it)h(may)f(not)h
(be)f(the)h(case)g(tw)o(o)g(years)f(from)g(no)n(w)-5
b(,)25 b(after)f(the)h(programmer)739 2901 y(has)c(written)f(an)h
(additional)e(30,000)f(lines)j(of)g(code)f(and)g(cannot)f(remember)g
(why)h(he/she)g(wrote)739 3001 y(AND)30 b(R3,R3,#0.)50
b(It)30 b(may)f(also)g(be)g(the)h(case)f(that)h(tw)o(o)f(years)g(from)f
(no)n(w)-5 b(,)31 b(the)e(programmer)739 3100 y(no)f(longer)e(w)o(orks)
i(for)f(the)h(compan)o(y)e(and)i(the)g(compan)o(y)d(needs)j(to)g
(modify)f(the)h(program)e(in)739 3200 y(response)e(to)i(a)f(product)f
(update.)39 b(If)25 b(the)g(task)h(is)g(assigned)f(to)g(someone)f(who)h
(has)h(ne)n(v)o(er)e(seen)739 3300 y(the)c(code)g(before,)e(comments)h
(go)h(a)h(long)e(w)o(ay)h(to)h(helping)d(comprehension.)863
3399 y(It)g(is)g(important)d(to)i(mak)o(e)g(comments)f(that)h(pro)o
(vide)e(additional)g(insight)i(and)f(not)h(just)g(restate)739
3499 y(the)25 b(ob)o(vious.)36 b(There)24 b(are)g(tw)o(o)h(reasons)g
(for)f(this.)38 b(First,)27 b(comments)c(that)i(restate)g(the)f(ob)o
(vious)739 3599 y(are)i(a)h(w)o(aste)g(of)f(e)n(v)o(eryone')-5
b(s)24 b(time.)43 b(Second,)26 b(the)o(y)g(tend)g(to)g(obscure)f(the)h
(comments)f(that)h(say)739 3698 y(something)19 b(important)h(because)g
(the)o(y)g(add)g(clutter)h(to)g(the)g(program.)j(F)o(or)d(e)o(xample,)e
(in)i(line)g(0F)-7 b(,)739 3798 y(the)28 b(comment)f(\223Decrement)f
(R1\224)j(w)o(ould)e(be)h(a)h(bad)e(idea.)49 b(It)28
b(w)o(ould)f(pro)o(vide)f(no)i(additional)739 3897 y(insight)20
b(to)g(the)g(instruction,)f(and)h(it)g(w)o(ould)g(add)g(clutter)f(to)i
(the)f(page.)863 3997 y(Another)29 b(purpose)f(of)i(comments,)h(and)e
(also)i(the)f(judicious)e(use)j(of)e(e)o(xtra)h(blank)e(spaces)739
4097 y(to)h(a)h(line,)i(is)e(to)f(mak)o(e)g(the)h(visual)f
(presentation)f(of)h(a)g(program)f(easier)h(to)h(understand.)50
b(So,)739 4196 y(for)22 b(e)o(xample,)g(comments)f(are)i(used)g(to)g
(separate)f(pieces)h(of)f(the)h(program)d(from)i(each)h(other)f(to)739
4296 y(mak)o(e)e(the)h(program)d(more)i(readable.)25
b(That)20 b(is,)h(lines)g(of)g(code)f(that)g(w)o(ork)g(together)f(to)i
(compute)739 4396 y(a)k(single)f(result)g(are)g(placed)f(on)h(successi)
n(v)o(e)g(lines,)h(while)g(pieces)f(of)g(a)g(program)e(that)j(produce)
739 4495 y(separate)19 b(results)h(are)g(separated)f(from)g(each)g
(other)-5 b(.)25 b(F)o(or)19 b(e)o(xample,)g(note)g(that)h(lines)g(0E)g
(through)739 4595 y(10)e(are)g(separated)g(from)f(the)i(rest)g(of)f
(the)g(code)g(by)g(lines)h(0D)g(and)f(11.)23 b(There)18
b(is)i(nothing)c(on)i(lines)739 4694 y(0D)i(and)g(11)g(other)f(than)h
(the)g(semicolons.)863 4794 y(Extra)32 b(spaces)h(that)g(are)g(ignored)
d(by)j(the)f(assembler)h(pro)o(vide)d(an)j(opportunity)c(to)k(align)739
4894 y(elements)23 b(of)f(a)i(program)c(for)j(easier)g(readability)-5
b(.)31 b(F)o(or)23 b(e)o(xample,)f(all)i(the)f(opcodes)e(start)j(in)f
(the)739 4993 y(same)d(column)f(on)h(the)g(page.)p eop
%%Page: 147 5
147 4 bop 291 697 a Fd(7.1.)45 b(LC-3B)20 b(ASSEMBL)-8
b(Y)20 b(LANGU)m(A)m(GE)1406 b Fk(147)291 930 y Ff(7.1.2)98
b(Pseudo-ops)26 b(\(Assembler)f(Dir)n(ecti)o(v)o(es\))291
1086 y Fk(The)16 b(LC-3b)f(assembler)h(is)h(a)g(program)d(that)j(tak)o
(es)g(as)g(input)e(a)i(string)f(of)g(characters)f(representing)291
1186 y(a)23 b(computer)d(program)h(written)h(in)h(LC-3b)f(assembly)g
(language,)g(and)g(translates)h(it)g(into)f(a)i(pro-)291
1285 y(gram)d(in)i(the)g(ISA)f(of)h(the)f(LC-3b)m(.)31
b(Pseudo-ops)21 b(are)i(helpful)e(to)i(the)f(assembler)h(in)f
(performing)291 1385 y(that)e(task.)415 1485 y(Actually)-5
b(,)30 b(a)g(more)e(formal)g(name)g(for)g(a)i(pseudo-op)c(is)k
Fg(assembler)f(dir)m(ective)p Fk(.)52 b(The)o(y)27 b(are)291
1584 y(called)18 b(pseudo-ops)e(because)h(the)o(y)h(do)g(not)g(refer)g
(to)g(operations)f(that)h(will)h(be)g(performed)c(by)j(the)291
1684 y(program)24 b(during)g(e)o(x)o(ecution.)41 b(Rather)m(,)26
b(the)h(pseudo-op)c(is)k(strictly)f(a)h(message)f(to)g(the)g(assem-)291
1783 y(bler)h(to)h(help)f(the)g(assembler)g(in)h(the)g(assembly)f
(process.)47 b(Once)27 b(the)g(assembler)h(handles)e(the)291
1883 y(message,)d(the)f(pseudo-op)e(is)k(discarded.)31
b(The)23 b(LC-3b)f(assembler)g(contains)g(\002)n(v)o(e)h(pseudo-ops:)
291 1983 y(.ORIG,)g(.FILL,)f(.BLKW)-8 b(,)24 b(.STRINGZ,)f(and)g(.END.)
g(All)g(are)g(easily)h(recognizable)d(by)i(the)g(dot)291
2082 y(as)d(their)g(\002rst)h(character)-5 b(.)291 2282
y Fc(.ORIG)498 2481 y Fk(.ORIG)30 b(tells)h(the)f(assembler)f(where)g
(in)h(memory)e(to)i(place)f(the)h(LC-3b)f(program.)52
b(In)498 2580 y(line)32 b(05,)h(.ORIG)e(x3050)f(says,)k(start)e(with)g
(location)e(x3050.)56 b(As)32 b(a)g(result,)i(the)d(LEA)498
2680 y(R2,NUMBER)21 b(instruction)e(will)i(be)f(put)g(in)g(location)f
(x3050.)291 2962 y Fc(.FILL)498 3162 y Fk(.FILL)f(tells)h(the)f
(assembler)g(to)g(set)h(aside)f(the)h(ne)o(xt)e(location)g(in)i(the)f
(program)e(and)h(initial-)498 3261 y(ize)k(it)g(with)f(the)h(v)n(alue)e
(of)h(the)h(operand.)i(In)d(line)g(15,)g(the)g(ninth)g(location)f(in)i
(the)f(resultant)498 3361 y(LC-3b)g(program)e(is)j(initialized)f(to)g
(the)g(v)n(alue)g(x0006.)291 3643 y Fc(.BLKW)498 3842
y Fk(.BLKW)e(tells)h(the)e(assembler)g(to)g(set)h(aside)g(some)f
(number)f(of)h(sequential)f(memory)g(loca-)498 3942 y(tions)i(\(i.e.,)g
(a)h Fc(BL)p Fk(oc)p Fc(K)g Fk(of)f(W)-7 b(ords\))18
b(in)g(the)g(program.)23 b(The)17 b(actual)i(number)d(is)j(the)f
(operand)498 4042 y(of)25 b(the)h(.BLKW)g(pseudo-op.)39
b(In)25 b(line)g(11,)i(the)e(pseudo-op)e(instructs)j(the)f(assembler)g
(to)498 4141 y(set)c(aside)f(one)g(location)f(in)i(memory)d(\(and)h
(also)i(to)f(label)g(it)h(NUMBER,)g(incidentally\).)672
4274 y(The)j(pseudo-op)e(.BLKW)j(is)g(particularly)e(useful)h(when)f
(the)i(actual)f(v)n(alue)f(of)h(the)498 4374 y(operand)e(is)j(not)f
(yet)h(kno)n(wn.)35 b(F)o(or)24 b(e)o(xample,)f(one)h(might)g(w)o(ant)g
(to)g(set)h(aside)g(a)f(location)498 4473 y(in)d(memory)f(for)g
(storing)h(a)g(character)f(input)g(from)h(a)g(k)o(e)o(yboard.)k(It)d
(will)g(not)e(be)h(until)g(the)498 4573 y(program)d(is)j(run)f(that)g
(we)h(will)f(kno)n(w)g(the)g(identity)f(of)h(that)h(k)o(e)o(ystrok)o
(e.)p eop
%%Page: 148 6
148 5 bop 739 697 a Fk(148)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)739 930 y Fc(.STRINGZ)946
1130 y Fk(.STRINGZ)c(tells)g(the)g(assembler)f(to)g(initialize)h(a)g
(sequence)e(of)h Fg(n)8 b Fh(+)g Fg(a)16 b Fk(memory)f(locations,)946
1229 y(where)21 b Fg(a)e Fh(=)f Fk(1)j(if)h(n)f(is)h(odd,)f(and)g
Fg(a)d Fh(=)h Fk(2)i(if)g(n)h(is)g(e)n(v)o(en.)27 b(The)21
b(ar)o(gument)e(is)j(a)g(sequence)e(of)h Fg(n)946 1329
y Fk(characters,)j(inside)g(double)f(quotation)f(marks.)36
b(The)23 b(\002rst)i Fg(n)13 b Fh(+)g Fk(1)23 b(bytes)h(of)g(memory)e
(are)946 1429 y(initialized)28 b(with)g(the)g(ASCII)g(codes)f(of)h(the)
f(corresponding)e(characters)i(in)g(the)h(string,)946
1528 y(follo)n(wed)d(by)g(x00.)41 b(A)27 b(\002nal)e(byte)h(x00)f(is)i
(added)d(if)i(necessary)f(to)h(end)g(the)f(string)h(on)f(a)946
1628 y(w)o(ord)g(boundary)-5 b(.)38 b(The)25 b Fg(n)13
b Fh(+)g Fk(1)p Fg(s)n(t)31 b Fk(character)24 b(\(x00\))g(pro)o(vides)g
(a)h(con)m(v)o(enient)e(sentinel)i(for)946 1727 y(processing)19
b(the)h(string)g(of)g(ASCII)h(codes.)946 1893 y(F)o(or)f(e)o(xample,)f
(the)h(code)g(fragment)1285 2109 y Fe(.ORIG)214 b(x3010)946
2209 y(HELLO)129 b(.STRINGZ)88 b("Hello,)44 b(World!")946
2425 y Fk(w)o(ould)22 b(result)g(in)g(the)h(assembler)e(initializing)h
(locations)f(x3010)g(through)f(x301D)g(to)j(the)946 2524
y(follo)n(wing)c(v)n(alues:)946 2740 y Fe(x3010:)45 b(x48)946
2840 y(x3011:)g(x65)946 2940 y(x3012:)g(x6C)946 3039
y(x3013:)g(x6C)946 3139 y(x3014:)g(x6F)946 3238 y(x3015:)g(x2C)946
3338 y(x3016:)g(x20)946 3438 y(x3017:)g(x57)946 3537
y(x3018:)g(x6F)946 3637 y(x3019:)g(x72)946 3737 y(x301A:)g(x6C)946
3836 y(x301B:)g(x64)946 3936 y(x301C:)g(x21)946 4035
y(x301D:)g(x00)739 4351 y Fc(.END)946 4550 y Fk(.END)30
b(tells)g(the)f(assembler)g(where)g(the)g(program)f(ends.)52
b(An)o(y)28 b(characters)h(that)g(come)946 4650 y(after)i(.END)f(will)h
(not)g(be)f(utilized)g(by)g(the)h(assembler)-5 b(.)56
b Fg(Note:)46 b Fk(.END)30 b(does)h(not)f(stop)946 4749
y(the)25 b(program)d(during)h(e)o(x)o(ecution.)36 b(In)24
b(f)o(act,)i(.END)e(does)g(not)h(e)n(v)o(en)e(e)o(xist)i(at)g(the)f
(time)h(of)946 4849 y(e)o(x)o(ecution.)e(It)e(is)g(simply)f(a)g
(delimiter)n(\227it)g(marks)g(the)g(end)g(of)g(the)g(source)f(program.)
739 5087 y Ff(7.1.3)99 b(An)25 b(Example)739 5242 y Fk(The)19
b(program)f(sho)n(wn)h(in)g(Figure)g(7.2)g(tak)o(es)h(a)g(character)f
(that)g(is)i(input)e(from)g(the)g(k)o(e)o(yboard)e(and)739
5342 y(a)k(\002le)f(and)g(counts)g(the)g(number)e(of)i(occurrences)e
(of)i(that)g(character)f(in)i(that)f(\002le.)p eop
%%Page: 149 7
149 6 bop 291 697 a Fd(7.1.)45 b(LC-3B)20 b(ASSEMBL)-8
b(Y)20 b(LANGU)m(A)m(GE)1406 b Fk(149)291 1370 y Fe(01)127
b(;)291 1470 y(02)g(;)43 b(Program)i(to)e(count)h(occurrences)i(of)d(a)
g(character)i(in)e(a)g(File.)291 1570 y(03)127 b(;)43
b(Character)i(to)e(be)g(input)h(from)g(the)g(keyboard.)291
1669 y(04)127 b(;)43 b(Result)h(to)f(be)g(displayed)j(on)d(the)g
(monitor.)291 1769 y(05)127 b(;)43 b(Program)i(works)f(only)f(if)g(no)g
(more)h(than)g(9)f(occurrences)j(are)d(found.)291 1869
y(06)127 b(;)291 1968 y(07)g(;)291 2068 y(08)g(;)43 b(Initialization)
291 2167 y(09)127 b(;)291 2267 y(0A)466 b(.ORIG)129 b(x3000)291
2367 y(0B)466 b(AND)213 b(R2,R2,#0)257 b(;)42 b(R2)h(is)g(counter,)i
(initialize)h(to)d(0)291 2466 y(0C)466 b(LEA)213 b(R3,PTR)341
b(;)42 b(R3)h(is)g(pointer)i(to)e(characters)291 2566
y(0D)254 b(LDW)213 b(R3,R3,#0)291 2666 y(0E)466 b(TRAP)171
b(x23)467 b(;)42 b(R0)h(gets)h(character)h(input)291
2765 y(0F)466 b(LDB)213 b(R1,R3,#0)257 b(;)42 b(R1)h(gets)h(the)f(next)
h(character)291 2865 y(10)127 b(;)291 2964 y(11)g(;)43
b(Test)h(character)h(for)e(end)h(of)f(file)291 3064 y(12)127
b(;)291 3164 y(13)g(TEST)171 b(ADD)213 b(R4,R1,#-4)i(;)42
b(Test)i(for)f(EOT)291 3263 y(14)466 b(BRz)213 b(OUTPUT)341
b(;)42 b(If)h(done,)h(prepare)h(the)e(output)291 3363
y(15)127 b(;)291 3463 y(16)g(;)43 b(Test)h(character)h(for)e(match.)87
b(If)43 b(a)g(match,)h(increment)i(count.)291 3562 y(17)127
b(;)291 3662 y(18)466 b(NOT)213 b(R1,R1)291 3761 y(19)466
b(ADD)213 b(R1,R1,R0)257 b(;)42 b(If)h(match,)i(R1)e(=)f(xFFFF)291
3861 y(1A)466 b(NOT)213 b(R1,R1)383 b(;)42 b(If)h(match,)i(R1)e(=)f
(x0000)291 3961 y(1B)466 b(BRnp)171 b(GETCHAR)299 b(;)42
b(If)h(no)g(match,)i(do)e(not)g(increment)291 4060 y(1C)466
b(ADD)213 b(R2,R2,#1)291 4160 y(1D)127 b(;)291 4260 y(1E)g(;)43
b(Get)g(next)h(character)h(from)f(the)g(file)291 4359
y(1F)127 b(;)291 4459 y(20)g(GETCHAR)45 b(ADD)213 b(R3,R3,#1)257
b(;)42 b(Increment)k(the)d(pointer)291 4559 y(21)466
b(LDB)213 b(R1,R3,#0)257 b(;)42 b(R1)h(gets)h(the)f(next)h(character)h
(to)e(test)291 4658 y(22)466 b(BRnzp)129 b(TEST)397 4924
y Fk(Figure)19 b(7.2:)25 b(The)20 b(assembly)g(language)e(program)g(to)
i(count)g(occurrences)e(of)i(a)g(character)p eop
%%Page: 150 8
150 7 bop 739 697 a Fk(150)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)739 899 y Fe(23)128
b(;)739 998 y(24)g(;)42 b(Output)j(the)e(count.)739 1098
y(25)128 b(;)739 1198 y(26)g(OUTPUT)86 b(LEA)213 b(R0,ASCII)257
b(;)43 b(Load)g(the)h(ASCII)g(template)739 1297 y(27)466
b(LDW)213 b(R0,R0,#0)739 1397 y(28)466 b(ADD)213 b(R0,R0,R2)257
b(;)43 b(Convert)h(binary)h(to)e(ASCII)739 1496 y(29)466
b(TRAP)171 b(x21)467 b(;)43 b(ASCII)h(code)f(in)g(R0)g(is)g(displayed)
739 1596 y(2A)466 b(TRAP)171 b(x25)467 b(;)43 b(Halt)g(machine)739
1696 y(2B)128 b(;)739 1795 y(2C)g(;)42 b(Storage)j(for)e(pointer)i(and)
e(ASCII)i(template)739 1895 y(2D)128 b(;)739 1995 y(2E)g(ASCII)g(.FILL)
h(x0030)739 2094 y(2F)f(PTR)212 b(.FILL)129 b(x4000)739
2194 y(30)466 b(.END)739 2459 y Fk(Figure)21 b(7.2:)27
b(The)21 b(assembly)g(language)f(program)f(to)j(count)e(occurrences)g
(of)h(a)h(character)e(\(con-)739 2559 y(tinued\))863
2823 y(A)h(fe)n(w)f(notes)g(re)o(garding)e(this)i(program:)863
2923 y(Three)f(times)g(during)f(this)h(program,)e(assistance)j(in)f
(the)g(form)f(of)h(a)g(service)g(call)h(is)g(required)739
3022 y(of)g(the)g(operating)e(system.)25 b(In)20 b(each)g(case,)g(a)h
(TRAP)g(instruction)e(is)i(used.)k(TRAP)c(x23)e(causes)h(a)739
3122 y(character)g(to)i(be)g(input)e(from)h(the)h(k)o(e)o(yboard)d(and)
i(placed)f(in)i(R0)g(\(line)g(0E\).)e(TRAP)j(x21)d(causes)739
3221 y(the)j(ASCII)f(code)g(in)h(R0)g(to)g(be)g(displayed)e(on)h(the)h
(monitor)e(\(line)h(29\).)32 b(TRAP)23 b(x25)f(causes)h(the)739
3321 y(machine)c(to)h(be)g(halted)g(\(line)g(2A\).)863
3421 y(The)i(ASCII)h(codes)e(for)h(the)g(decimal)g(digits)g(0)g(to)g(9)
h(\(0000)d(to)i(1001\))f(are)h(x30)f(to)h(x39.)30 b(The)739
3520 y(con)m(v)o(ersion)20 b(from)h(binary)h(to)h(ASCII)g(is)g(done)f
(simply)g(by)g(adding)f(x30)h(to)h(the)g(binary)e(v)n(alue)h(of)739
3620 y(the)d(decimal)f(digit.)24 b(Line)19 b(2E)f(sho)n(ws)h(the)g
(label)g(ASCII)g(used)f(to)h(identify)f(the)h(memory)e(location)739
3720 y(containing)h(x0030.)863 3819 y(The)25 b(\002le)g(that)g(is)h(to)
f(be)f(e)o(xamined)f(starts)j(at)f(address)f(x4000)f(\(see)i(line)g
(2F\).)f(Usually)-5 b(,)25 b(this)739 3919 y(starting)e(address)g(w)o
(ould)g(not)h(be)f(kno)n(wn)f(to)i(the)g(programmer)c(who)j(is)i
(writing)e(this)h(program,)739 4018 y(since)j(we)h(w)o(ould)e(w)o(ant)i
(the)f(program)e(to)j(w)o(ork)e(on)h(\002les)h(that)g(will)g(become)e
(a)n(v)n(ailable)g(in)i(the)739 4118 y(future.)739 4398
y Fj(7.2)119 b(The)30 b(Assembly)f(Pr)n(ocess)739 4584
y Fk(Before)15 b(an)g(LC-3b)g(assembly)g(language)e(program)h(can)h(be)
g(e)o(x)o(ecuted,)f(it)i(must)g(\002rst)g(be)f(translated)739
4683 y(into)j(a)g(machine)f(language)g(program,)f(that)i(is,)i(one)d
(in)h(which)g(each)g(instruction)f(is)i(in)f(the)g(LC-3b)739
4783 y(ISA.)i(It)h(is)g(the)f(job)g(of)g(the)g(LC-3b)f(assembler)h(to)h
(perform)d(that)i(translation.)739 5021 y Ff(7.2.1)99
b(A)25 b(T)-7 b(w)o(o-P)o(ass)24 b(Pr)n(ocess)739 5176
y Fk(In)f(this)g(section,)h(we)f(will)h(see)g(ho)n(w)e(the)i(assembler)
e(goes)h(through)e(the)i(process)g(of)g(translating)739
5276 y(an)g(assembly)g(language)e(program)g(into)i(a)g(machine)f
(language)g(program.)31 b(W)-7 b(e)24 b(will)g(use)g(as)f(our)739
5376 y(running)18 b(e)o(xample)h(the)h(assembly)g(language)e(program)g
(of)i(Figure)g(7.2.)p eop
%%Page: 151 9
151 8 bop 291 697 a Fd(7.2.)45 b(THE)20 b(ASSEMBL)-8
b(Y)20 b(PR)m(OCESS)1575 b Fk(151)415 930 y(Y)-9 b(ou)29
b(remember)e(that)j(there)e(is)j(in)e(general)f(a)i(one-to-one)c
(correspondence)g(between)j(in-)291 1030 y(structions)22
b(in)g(an)h(assembly)f(language)f(program)f(and)i(instructions)f(in)i
(the)g(\002nal)f(machine)g(lan-)291 1130 y(guage)g(program.)35
b(W)-7 b(e)25 b(could)e(attempt)h(to)g(perform)e(this)i(translation)f
(in)i(one)e(pass)i(through)c(the)291 1229 y(assembly)26
b(language)g(program.)43 b(Starting)27 b(from)f(the)h(top)g(of)g
(Figure)f(7.2,)i(the)g(assembler)e(dis-)291 1329 y(cards)j(lines)i(01)f
(to)g(09,)i(since)e(the)o(y)f(contain)g(only)h(comments.)53
b(Comments)30 b(are)g(strictly)g(for)291 1429 y(human)23
b(consumption;)h(the)o(y)g(ha)n(v)o(e)g(no)g(bearing)f(on)i(the)f
(translation)g(process.)38 b(The)24 b(assembler)291 1528
y(then)f(mo)o(v)o(es)h(on)f(to)i(line)f(0A.)g(Line)g(0A)h(is)g(a)g
(pseudo-op;)f(it)h(tells)g(the)f(assembler)g(that)g(the)h(ma-)291
1628 y(chine)d(language)f(program)g(is)j(to)g(start)f(a)h(location)e
(x3000.)32 b(The)22 b(assembler)h(then)g(mo)o(v)o(es)f(on)g(to)291
1727 y(line)e(0B,)g(which)g(it)h(can)f(easily)g(translate)g(into)g
(LC-3b)g(machine)f(code.)24 b(At)d(this)g(point,)e(we)h(ha)n(v)o(e)1125
1895 y Fa(x3000:)98 b(0101010010100000)291 2062 y Fk(The)28
b(LC-3b)h(assembler)g(mo)o(v)o(es)f(on)g(to)i(translate)f(the)g(ne)o
(xt)f(instruction)g(\(line)h(0C\).)g(Unfortu-)291 2162
y(nately)-5 b(,)16 b(it)h(is)g(unable)f(to)g(do)g(so,)i(since)e(it)i
(does)e(not)g(kno)n(w)f(the)i(meaning)e(of)h(the)h(symbolic)e(address,)
291 2261 y(PTR.)20 b(At)h(this)g(point)e(the)h(assembler)g(is)h(stuck,)
f(and)g(the)g(assembly)g(process)f(f)o(ails.)415 2361
y(T)-7 b(o)32 b(pre)n(v)o(ent)e(the)i(abo)o(v)o(e)f(problem)f(from)h
(occurring,)h(the)g(assembly)g(process)f(is)i(done)e(in)291
2461 y(tw)o(o)23 b(complete)f(passes)j(\(from)c(be)o(ginning)g(to)j
(.END\))f(through)e(the)i(entire)g(assembly)g(language)291
2560 y(program.)f(The)d(objecti)n(v)o(e)f(of)h(the)g(\002rst)h(pass)g
(is)g(to)f(identify)f(the)i(actual)f(binary)f(addresses)h(corre-)291
2660 y(sponding)i(to)j(the)g(symbolic)f(names)g(\(or)g(labels\).)35
b(This)24 b(set)h(of)e(correspondences)e(is)j(kno)n(wn)f(as)291
2760 y(the)i Fg(symbol)f(table)p Fk(.)40 b(In)24 b(pass)i(one,)g(we)f
(construct)f(the)h(symbol)f(table.)40 b(In)24 b(pass)i(tw)o(o,)g(we)g
(trans-)291 2859 y(late)k(the)g(indi)n(vidual)e(assembly)i(language)e
(instructions)h(into)g(their)h(corresponding)d(machine)291
2959 y(language)18 b(instructions.)415 3058 y(Thus,)i(when)f(the)h
(assembler)g(e)o(xamines)f(line)i(0C)f(for)g(the)g(purpose)f(of)g
(translating)1474 3226 y Fa(LEA)49 b(R3,PTR)291 3393
y Fk(during)20 b(the)h(second)g(pass,)i(it)f(already)f(kno)n(ws)g(the)g
(correspondence)e(between)i(PTR)h(and)f(x3028)291 3493
y(\(from)d(the)j(\002rst)g(pass\).)k(Thus)19 b(it)i(can)f(easily)h
(translate)f(line)g(0C)h(to)1125 3660 y Fa(x3002:)98
b(1110011000010011)291 3828 y Fk(The)18 b(problem)f(of)h(not)h(kno)n
(wing)d(the)j(16-bit)f(address)g(corresponding)d(to)k(PTR)h(no)e
(longer)f(e)o(xists.)291 4062 y Ff(7.2.2)98 b(The)26
b(First)f(P)o(ass:)30 b(Cr)n(eating)c(the)f(Symbol)g(T)-9
b(able)291 4218 y Fk(F)o(or)17 b(our)h(purposes,)f(the)h(symbol)f
(table)h(is)h(simply)f(a)h(correspondence)14 b(of)k(symbolic)f(names)h
(with)291 4318 y(their)24 b(16-bit)g(memory)f(addresses.)38
b(W)-7 b(e)26 b(obtain)e(these)h(correspondences)d(by)i(passing)h
(through)291 4417 y(the)j(assembly)f(language)f(program)g(once,)j
(noting)e(which)h(instruction)e(is)j(assigned)f(to)g(which)291
4517 y(address,)19 b(and)h(identifying)e(each)i(label)g(with)g(the)g
(address)g(of)g(its)h(assigned)f(entry)-5 b(.)415 4617
y(Recall)26 b(that)f(we)g(pro)o(vide)d(labels)k(in)f(those)f(cases)i
(where)e(we)h(ha)n(v)o(e)f(to)h(refer)f(to)h(a)h(location,)291
4716 y(either)15 b(because)f(it)i(is)h(the)e(tar)o(get)g(of)g(a)h
(branch)e(instruction)g(or)h(because)g(it)h(contains)f(data)g(that)g
(must)291 4816 y(be)25 b(loaded)g(or)g(stored.)41 b(Consequently)-5
b(,)24 b(if)i(we)g(ha)n(v)o(e)f(not)g(made)g(an)o(y)g(programming)d
(mistak)o(es,)291 4915 y(and)c(if)g(we)h(identify)f(all)h(the)f
(labels,)h(we)g(will)g(ha)n(v)o(e)f(identi\002ed)g(all)h(the)g
(symbolic)e(addresses)i(used)291 5015 y(in)h(the)g(program.)415
5115 y(The)27 b(abo)o(v)o(e)e(paragraph)f(assumes)j(that)g(our)f
(entire)h(program)e(e)o(xists)i(between)f(our)g(.ORIG)291
5214 y(and)19 b(.END)h(pseudo-ops:)j(This)e(is)g(true)f(for)f(the)h
(assembly)g(language)f(program)f(of)i(Figure)f(7.2.)415
5314 y(The)f(\002rst)h(pass)g(starts,)g(after)f(discarding)f(the)h
(comments)g(on)g(lines)g(01)g(to)h(09)f(by)g(noting)f(\(line)291
5414 y(0A\))24 b(that)g(the)h(\002rst)g(instruction)e(will)i(be)g
(assigned)e(to)i(address)f(x3000.)36 b(W)-7 b(e)25 b(k)o(eep)f(track)g
(of)g(the)p eop
%%Page: 152 10
152 9 bop 739 697 a Fk(152)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)739 930 y Fk(location)i(assigned)h
(to)h(each)f(instruction)f(by)h(means)g(of)g(a)g(location)g(counter)f
(\(LC\).)h(The)g(LC)h(is)739 1030 y(initialized)20 b(to)g(the)g
(address)g(speci\002ed)g(in)g(.ORIG,)g(that)h(is,)g(x3000.)863
1130 y(The)f(assembler)f(e)o(xamines)f(each)h(instruction)f(in)i
(sequence,)e(and)h(increments)g(the)g(LC)h(once)739 1229
y(for)g(each)h(assembly)f(language)g(instruction.)25
b(If)c(the)g(instruction)f(e)o(xamined)f(contains)h(a)h(label,)g(a)739
1329 y(symbol)i(table)h(entry)f(is)h(made)g(for)f(that)h(label,)g
(specifying)f(the)g(current)g(contents)g(of)h(LC)g(as)h(its)739
1429 y(address.)f(The)c(\002rst)h(pass)g(terminates)e(when)h(the)g
(.END)g(instruction)f(is)i(encountered.)863 1528 y(The)26
b(\002rst)h(instruction)e(that)h(has)h(a)f(label)h(is)g(at)f(line)h
(13.)42 b(Since)27 b(it)f(is)i(the)e(sixth)g(instruction)739
1628 y(in)e(the)g(program)e(and)i(the)g(LC)h(at)f(that)g(point)g
(contains)f(x300A,)g(a)h(symbol)f(table)h(entry)g(is)h(con-)739
1727 y(structed)19 b(thus:)p 1748 1740 847 4 v 1746 1840
4 100 v 1797 1810 a Fa(Symbol)p 2144 1840 V 99 w(Address)p
2593 1840 V 1748 1843 847 4 v 1748 1860 V 1746 1959 4
100 v 1847 1929 a(TEST)p 2144 1959 V 199 w(x300A)p 2593
1959 V 1748 1962 847 4 v 739 2077 a Fk(The)27 b(second)g(instruction)g
(that)g(has)h(a)h(label)e(is)i(at)f(line)g(20.)47 b(At)28
b(this)h(point,)f(the)g(LC)g(has)g(been)739 2177 y(incremented)18
b(to)i(x3018.)j(Thus)d(a)h(symbol)e(table)h(entry)g(is)h(constructed,)d
(as)j(follo)n(ws:)p 1733 2289 897 4 v 1731 2389 4 100
v 1808 2359 a Fa(Symbol)p 2180 2389 V 123 w(Address)p
2628 2389 V 1733 2392 897 4 v 1733 2409 V 1731 2509 4
100 v 1783 2479 a(GETCHAR)p 2180 2509 V 148 w(x3018)p
2628 2509 V 1733 2512 897 4 v 739 2660 a Fk(At)g(the)f(conclusion)e(of)
i(the)g(\002rst)h(pass,)g(the)f(symbol)f(table)h(has)h(the)f(follo)n
(wing)f(entries:)p 1733 2773 V 1731 2872 4 100 v 1808
2842 a Fa(Symbol)p 2180 2872 V 123 w(Address)p 2628 2872
V 1733 2875 897 4 v 1733 2892 V 1731 2992 4 100 v 1783
2962 a(TEST)p 2180 2992 V 248 w(x300A)p 2628 2992 V 1733
2995 897 4 v 1731 3095 4 100 v 1783 3065 a(GETCHAR)p
2180 3095 V 98 w(x3018)p 2628 3095 V 1733 3098 897 4
v 1731 3198 4 100 v 1783 3168 a(OUTPUT)p 2180 3198 V
148 w(x301E)p 2628 3198 V 1733 3201 897 4 v 1731 3301
4 100 v 1783 3271 a(ASCII)p 2180 3301 V 198 w(x3028)p
2628 3301 V 1733 3304 897 4 v 1731 3404 4 100 v 1783
3374 a(PTR)p 2180 3404 V 298 w(x302A)p 2628 3404 V 1733
3407 897 4 v 739 3605 a Ff(7.2.3)99 b(The)39 b(Second)g(P)o(ass:)55
b(Generating)39 b(the)f(Machine)g(Language)h(Pr)n(o-)1038
3721 y(gram)739 3877 y Fk(The)26 b(second)f(pass)i(consists)g(of)f
(going)f(through)g(the)h(assembly)g(language)f(program)f(a)j(second)739
3977 y(time,)17 b(line)f(by)g(line,)h(this)g(time)f(with)g(the)h(help)e
(of)h(the)h(symbol)e(table.)23 b(At)17 b(each)f(line,)h(the)f(assembly)
739 4076 y(language)i(instruction)h(is)i(translated)f(into)g(an)g
(LC-3b)g(machine)f(language)f(instruction.)863 4176 y(Starting)j(again)
f(at)h(the)g(top,)g(the)g(assembler)f(again)g(discards)h(lines)g(01)g
(through)e(09)h(because)739 4276 y(the)o(y)25 b(contain)f(only)h
(comments.)40 b(Line)26 b(0A)f(is)i(the)e(.ORIG)h(pseudo-op,)e(which)i
(the)f(assembler)739 4375 y(uses)f(to)h(initialize)f(LC)g(to)g(x3000.)
35 b(The)24 b(assembler)f(mo)o(v)o(es)g(on)h(to)g(line)g(0B,)g(and)f
(produces)g(the)739 4475 y(machine)k(language)f(instruction)h
(0101010010100)o(00)o(0.)43 b(Then)27 b(the)h(assembler)f(mo)o(v)o(es)g
(on)h(to)739 4574 y(line)20 b(0C.)863 4674 y(This)33
b(time,)j(when)c(the)g(assembler)g(gets)h(to)g(line)g(0C,)f(it)i(can)e
(completely)f(assemble)i(the)739 4774 y(instruction)c(since)h(it)g(kno)
n(ws)g(that)g(PTR)h(corresponds)c(to)j(x302A.)f(The)g(instruction)g(is)
i(LEA,)739 4873 y(which)24 b(has)h(an)g(opcode)e(encoding)f(of)j(1110.)
36 b(The)25 b(Destination)f(re)o(gister)g(\(DR\))h(is)g(R3,)h(that)f
(is,)739 4973 y(011.)863 5073 y(PCof)n(fset)17 b(is)h(computed)d(as)j
(follo)n(ws:)23 b(W)-7 b(e)18 b(kno)n(w)e(that)h(PTR)g(is)h(the)f
(label)g(for)f(address)g(x302A,)739 5172 y(and)k(that)h(the)f
(incremented)f(PC)i(is)h(LC+2,)e(in)h(this)g(case)g(x3004.)j(Since)c
(PTR)i(\(x302A\))c(must)j(be)739 5272 y(the)c(sum)f(of)h(the)g
(incremented)d(PC)k(\(x3004\))c(and)j(twice)g(the)f(sign-e)o(xtended)e
(PCof)n(fset)j(\(since)g(the)739 5371 y(of)n(fset)23
b(is)h(in)g(w)o(ords)f(and)g(memory)f(is)i(byte-addressable\),)d(PCof)n
(fset)j(must)f(be)g(x0013.)33 b(Putting)p eop
%%Page: 153 11
153 10 bop 291 697 a Fd(7.2.)45 b(THE)20 b(ASSEMBL)-8
b(Y)20 b(PR)m(OCESS)1575 b Fk(153)p 291 851 1136 4 v
289 950 4 100 v 340 920 a(Address)p 661 950 V 318 w(Binary)p
1424 950 V 291 954 1136 4 v 291 970 V 289 1070 4 100
v 661 1070 V 661 1070 V 712 1040 a(00110000000000)o(00)p
1424 1070 V 291 1073 1136 4 v 289 1173 4 100 v 373 1143
a(x3000)p 661 1173 V 661 1173 V 129 w(01010100101000)o(00)p
1424 1173 V 291 1176 1136 4 v 289 1276 4 100 v 373 1246
a(x3002)p 661 1276 V 661 1276 V 129 w(11100110000100)o(11)p
1424 1276 V 291 1279 1136 4 v 289 1379 4 100 v 373 1349
a(x3004)p 661 1379 V 661 1379 V 129 w(01100110110000)o(00)p
1424 1379 V 291 1382 1136 4 v 289 1482 4 100 v 373 1452
a(x3006)p 661 1482 V 661 1482 V 129 w(11110000001000)o(11)p
1424 1482 V 291 1485 1136 4 v 289 1585 4 100 v 373 1555
a(x3008)p 661 1585 V 661 1585 V 129 w(00100010110000)o(00)p
1424 1585 V 291 1588 1136 4 v 289 1688 4 100 v 363 1658
a(x300A)p 661 1688 V 661 1688 V 121 w(00011000011111)o(00)p
1424 1688 V 291 1691 1136 4 v 289 1791 4 100 v 366 1761
a(x300C)p 661 1791 V 661 1791 V 123 w(00000100000010)o(00)p
1424 1791 V 291 1794 1136 4 v 289 1893 4 100 v 368 1864
a(x300E)p 661 1893 V 661 1893 V 125 w(10010010011111)o(11)p
1424 1893 V 291 1897 1136 4 v 289 1996 4 100 v 373 1967
a(x3010)p 661 1996 V 661 1996 V 129 w(00010010010000)o(00)p
1424 1996 V 291 2000 1136 4 v 289 2099 4 100 v 373 2069
a(x3012)p 661 2099 V 661 2099 V 129 w(10010010011111)o(11)p
1424 2099 V 291 2103 1136 4 v 289 2202 4 100 v 373 2172
a(x3014)p 661 2202 V 661 2202 V 129 w(00001010000000)o(01)p
1424 2202 V 291 2206 1136 4 v 289 2305 4 100 v 373 2275
a(x3016)p 661 2305 V 661 2305 V 129 w(00010100101000)o(01)p
1424 2305 V 291 2309 1136 4 v 289 2408 4 100 v 373 2378
a(x3018)p 661 2408 V 661 2408 V 129 w(00010110111000)o(01)p
1424 2408 V 291 2412 1136 4 v 289 2511 4 100 v 363 2481
a(x301A)p 661 2511 V 661 2511 V 121 w(00100010110000)o(00)p
1424 2511 V 291 2514 1136 4 v 289 2614 4 100 v 366 2584
a(x301C)p 661 2614 V 661 2614 V 123 w(00001111111101)o(10)p
1424 2614 V 291 2617 1136 4 v 289 2717 4 100 v 368 2687
a(x301E)p 661 2717 V 661 2717 V 125 w(11100000000001)o(00)p
1424 2717 V 291 2720 1136 4 v 289 2820 4 100 v 373 2790
a(x3020)p 661 2820 V 661 2820 V 129 w(01100000000000)o(00)p
1424 2820 V 291 2823 1136 4 v 289 2923 4 100 v 373 2893
a(x3022)p 661 2923 V 661 2923 V 129 w(00010000000000)o(10)p
1424 2923 V 291 2926 1136 4 v 289 3026 4 100 v 373 2996
a(x3024)p 661 3026 V 661 3026 V 129 w(11110000001000)o(01)p
1424 3026 V 291 3029 1136 4 v 289 3129 4 100 v 373 3099
a(x3026)p 661 3129 V 661 3129 V 129 w(11110000001001)o(01)p
1424 3129 V 291 3132 1136 4 v 289 3232 4 100 v 373 3202
a(x3028)p 661 3232 V 661 3232 V 129 w(00000000001100)o(00)p
1424 3232 V 291 3235 1136 4 v 289 3335 4 100 v 363 3305
a(x302A)p 661 3335 V 661 3335 V 121 w(01000000000000)o(00)p
1424 3335 V 291 3338 1136 4 v 291 3486 a(Figure)31 b(7.3:)47
b(The)32 b(machine)e(language)g(program)g(for)h(the)h(assembly)f
(language)f(program)g(of)291 3586 y(Figure)19 b(7.2)291
3853 y(this)31 b(all)g(together)m(,)g(x3002)e(is)i(set)g(to)g
(11100110000100)o(11)o(,)d(and)i(the)g(LC)h(is)h(incremented)c(to)291
3952 y(x3004.)415 4052 y Fg(Note)p Fk(:)d(In)17 b(order)g(to)h(use)g
(the)f(LEA)h(instruction,)f(it)h(is)h(necessary)e(that)h(the)g(source)f
(of)g(the)h(load,)291 4152 y(in)27 b(this)g(case)h(the)e(address)h
(whose)g(label)f(is)i(PTR,)g(is)g(not)e(more)g(than)h(+512)f(or)g(-510)
g(memory)291 4251 y(locations)21 b(from)f(the)i(LEA)g(instruction)f
(itself.)30 b(If)21 b(the)h(address)g(of)f(PTR)i(had)e(been)g(greater)g
(than)291 4351 y(LC+2)26 b(+510)g(or)g(less)i(than)e(LC+2)h(-512,)g
(then)f(the)g(of)n(fset)h(w)o(ould)f(not)g(\002t)h(in)g(bits)g([8:0])f
(of)g(the)291 4450 y(instruction.)52 b(In)29 b(such)h(a)g(case,)j(an)c
(assembly)h(error)e(w)o(ould)h(ha)n(v)o(e)g(occurred,)h(pre)n(v)o
(enting)d(the)291 4550 y(assembly)d(process)g(from)f(completing)g
(successfully)-5 b(.)37 b(F)o(ortunately)-5 b(,)23 b(PTR)j(is)f(close)g
(enough)d(to)291 4650 y(the)e(LEA)g(instruction,)f(so)h(the)g
(instruction)f(assembled)h(correctly)-5 b(.)415 4749
y(The)25 b(second)f(pass)h(continues.)38 b(At)25 b(each)g(step,)h(the)f
(LC)g(is)h(incremented)d(and)h(the)h(location)291 4849
y(speci\002ed)f(by)h(LC)h(is)g(assigned)f(the)g(translated)f(LC-3b)h
(instruction)f(or)m(,)h(in)g(the)h(case)f(of)g(.FILL,)291
4949 y(the)d(v)n(alue)f(speci\002ed.)30 b(When)22 b(the)g(second)g
(pass)g(encounters)f(the)h(.END)g(instruction,)f(assembly)291
5048 y(terminates.)415 5148 y(The)f(resulting)f(translated)h(program)e
(is)j(sho)n(wn)e(in)i(Figure)e(7.3.)415 5247 y(That)29
b(process)f(w)o(as,)k(on)d(a)g(good)f(day)-5 b(,)29 b(merely)g
(tedious.)50 b(F)o(ortunately)-5 b(,)29 b(you)f(do)g(not)h(ha)n(v)o(e)
291 5347 y(to)c(do)f(it)i(for)e(a)i(li)n(ving\227the)d(LC-3b)i
(assembler)f(does)h(that.)39 b(And,)26 b(since)f(you)f(no)n(w)g(kno)n
(w)g(LC-)p eop
%%Page: 154 12
154 11 bop 739 697 a Fk(154)1321 b Fd(CHAPTER)21 b(7.)45
b(ASSEMBL)-8 b(Y)21 b(LANGU)m(A)m(GE)739 930 y Fk(3b)29
b(assembly)h(language,)g(there)f(is)i(no)f(need)f(to)h(program)e(in)i
(machine)e(language.)53 b(No)n(w)29 b(we)739 1030 y(can)21
b(write)g(our)f(programs)g(symbolically)f(in)i(LC-3b)g(assembly)g
(language)e(and)h(in)m(v)n(ok)o(e)g(the)h(LC-)739 1130
y(3b)27 b(assembler)f(to)h(create)g(the)g(machine)f(language)g(v)o
(ersions)g(that)h(can)g(e)o(x)o(ecute)f(on)g(an)h(LC-3b)739
1229 y(computer)-5 b(.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
