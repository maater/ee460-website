<!-- commenting the email tags out .... 
From patt@login.hps.utexas.edu  Sat Feb 26 15:31:47 2011
Return-Path: <patt@login.hps.utexas.edu>
Received: from login.hps.utexas.edu (login.hps.utexas.edu [128.83.178.4])
	by ego.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p1QLVlXP005901;
	Sat, 26 Feb 2011 15:31:47 -0600
Received: from login.hps.utexas.edu (localhost.localdomain [127.0.0.1])
	by login.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p1QLVjLq018257;
	Sat, 26 Feb 2011 15:31:45 -0600
Received: (from patt@localhost)
	by login.hps.utexas.edu (8.13.8/8.13.8/Submit) id p1QLVj0x018256;
	Sat, 26 Feb 2011 15:31:45 -0600
Date: Sat, 26 Feb 2011 15:31:45 -0600
From: "Yale N. Patt" <patt@ece.utexas.edu>
To: miladhashemi@gmail.com, faruk@hps.utexas.edu, yuhao.zhu@mail.utexas.edu
Subject:  MDR value when executing STB
End comment here .... --> 
<HTML>
<HEAD>
<TITLE>EE 460N: Email Sat, 26 Feb 2011, 15:31</TITLE>
</HEAD>
<BODY TEXT="black" BGCOLOR="white" LINK="green" VLINK="purple" ALINK="#0000EE">
<H1></H1>
<p><font size=+1>Sat, 26 Feb 2011, 15:31</font>
<p><pre>
<font color="blue">
Several of you have discovered an inconsistency with Section C.5.2, dealing
with Byte Stores.  Thank you.  It turns out that on page 12 we say one thing,
on page 13 we say something else.  Both ways would work, but the machine can
only do it one way or the other.  Therefore, please correct Section C.5.2
as follows:

Please replace the beginning of the first paragraph of C.5.2 with the 
following:

In state 24, just prior to state 17 which does the actual byte store, the
data to be stored is loaded into MDR via the left input of a MUX, as shown
in Figure C-3.  The logic block producing the left input to that MUX gets
SR[15:0] from the bus and outputs either SR[15:0] or SR[7:0]'SR[7:0], 
depending on whether MAR[0] is a 0 or a 1.  In that way, ...

Please also replace lines 3 through 7 on page 13 with:

If DATA_SIZE is BYTE, MAR[0] determines whether WE1 or WE0 is asserted.
Recall that if MAR[0]=0, MDR was previously loaded with SR[15:0].  Thus,
asserting WE0 writes MDR[7:0] (i.e., SR[7:0]) into the memory location.  
If MAR[0]=1, MDR was previously loaded with SR[7:0]'SR[7:0].  Thus, 
asserting WE1 writes MDR[15:8] (i.e., SR[7:0]) into the memory location.  
Thus, in both cases, SR[7:0] gets stored in the memory location.

In summary, the logic block in front of the mux feeding MDR needs only one
control signal, MAR[0].  If MAR[0]=0, it will send BUS[15:0] to the left 
input of the mux feeding MDR.  If MAR[0]=1, it will replicate BUS[7:0] and
send BUS[7:0]'BUS[7:0] to the left input of the mux feeding MAR.

I apologize for the inconsistency.  Good luck finishing the lab by tomorrow
night.

Yale Patt

</font>
</pre>
</body>
</html>
