<!-- commenting the email tags out .... 
From patt@zh2.hps.utexas.edu  Mon Feb 21 16:50:00 2011
Return-Path: <patt@zh2.hps.utexas.edu>
Received: from zh2.hps.utexas.edu (zh2.hps.utexas.edu [128.83.178.32])
	by ego.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p1LMnxNl027435;
	Mon, 21 Feb 2011 16:49:59 -0600
Received: from zh2.hps.utexas.edu (localhost.localdomain [127.0.0.1])
	by zh2.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p1LMnufO002028;
	Mon, 21 Feb 2011 16:49:56 -0600
Received: (from patt@localhost)
	by zh2.hps.utexas.edu (8.13.8/8.13.8/Submit) id p1LMnuXx002026;
	Mon, 21 Feb 2011 16:49:56 -0600
Date: Mon, 21 Feb 2011 16:49:55 -0600
From: "Yale N. Patt" <patt@ece.utexas.edu>
To: miladhashemi@gmail.com, faruk@hps.utexas.edu, yuhao.zhu@mail.utexas.edu
Subject: Re: LC3-b datapath question
End comment here .... --> 
<HTML>
<HEAD>
<TITLE>EE 460N: Email Mon, 21 Feb 2011, 16:49</TITLE>
</HEAD>
<BODY TEXT="black" BGCOLOR="white" LINK="green" VLINK="purple" ALINK="#0000EE">
<H1></H1>
<p><font size=+1>Mon, 21 Feb 2011, 16:49</font>
<p><pre>
<font color="blue">
<font color="black">
&gt; Proffessor Patt,
&gt; 
&gt; I'm curious about what happens on the LC-3b datapath when invalid values 
&gt; are generated.  For instance, what happens if a program is running and the 
&gt; PC runs beyond xFFFE?  The PC + 2 incrementer would produce a value of 0x10000 
&gt; when the next PC is loaded.  Would the extra bit just be truncated off?
</font>

The PC is a 16-bit register.  Therefore, any generated carry would be lost.  So,
if the PC contained xFFFE and it was incremented (PC+2), the result would be x0000.
Next instruction, the LC-3b would attempt to fetch the contents of x0000.  Assuming
you do not have kernel privilege, you would take an exception.  We will talk about
memory exceptions within the next week (when we deal with virtual memory).
<font color="black">
&gt; Similarly, what would occur if a LDW instruction is executed that produces 
&gt; a negative memory index? (Ex: LDW R0, R1, #-32 when R1 = 16)
</font>

The instruction LDW R0,R1,#-32 is a perfectly good assembly language instruction
which would be converted by the Assembler to LC-3b code.  At run-time, the contents
of R1 and 1111111111100000 would be added, producing a 16-bit address, which would
be loaded into the MAR.  As long as your program has the privilege to access the
location specified by that address, there would be no problem.  For example, suppose
the contents of R1 is xF020, MAR would then be loaded with 1111000000000000, which is
address xF000.  So, no problem.  
<font color="black">
&gt; Thank you,
&gt; &lt;&lt;name withheld to protect the student who is curious&gt;&gt;
</font>

OK?

Good luck with the rest of the course.

Yale Patt

</font>
</pre>
</body>
</html>
