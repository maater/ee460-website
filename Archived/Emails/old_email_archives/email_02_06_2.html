<!-- commenting the email tags out .... 
From patt@login.hps.utexas.edu  Sun Feb  6 05:20:43 2011
Return-Path: <patt@login.hps.utexas.edu>
Received: from login.hps.utexas.edu (login.hps.utexas.edu [128.83.178.4])
	by ego.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p16BKhBI023909;
	Sun, 6 Feb 2011 05:20:43 -0600
Received: from login.hps.utexas.edu (localhost.localdomain [127.0.0.1])
	by login.hps.utexas.edu (8.13.8/8.13.8) with ESMTP id p16BKgn4027010;
	Sun, 6 Feb 2011 05:20:42 -0600
Received: (from patt@localhost)
	by login.hps.utexas.edu (8.13.8/8.13.8/Submit) id p16BKgB7027008;
	Sun, 6 Feb 2011 05:20:42 -0600
Date: Sun, 6 Feb 2011 05:20:42 -0600
From: "Yale N. Patt" <patt@ece.utexas.edu>
To: miladhashemi@gmail.com, faruk@hps.utexas.edu, yuhao.zhu@mail.utexas.edu
Subject: The LEA instruction
End comment here .... --> 
<HTML>
<HEAD>
<TITLE>EE 460N: Email Sun, 6 Feb 2011, 05:20</TITLE>
</HEAD>
<BODY TEXT="black" BGCOLOR="white" LINK="green" VLINK="purple" ALINK="#0000EE">
<H1></H1>
<p><font size=+1>Sun, 6 Feb 2011, 05:20</font>
<p><pre>
<font color="blue">

My students:

While I was out of town yesterday, a question came up regarding
the LEA instruction.  It turns out this will not affect your lab 1
project, so feel free to push this on the stack until lab 1 has been
submitted.

The LEA instruction is an operate instruction, not a data movement 
instruction.  Data movement instructions copy data between registers
and either Memory or I/O devices.  LDW and LDB do load registers with the
contents of memory locations.  LEA does not.

LEA constructs a value (which is almost always an address) and loads
it into one of the gprs.  It does not get that value from either memory
or an I/O device register.  Ergo, it is not a data movement instruction.

I suppose I could call LEA an odd-ball instruction, and if I identified
four kinds of instructions (operate, data movement, control, and odd ball),
I might be tempted to call LEA odd-ball.  Or, I could call it an operate
instruction, since it does construct the value PC + offset and loads it into
a gpr.  Given I only have the three choices (i.e., no odd-ball), clearly
operate wins.  OK?

I realize that part of the problem with this is the 2nd edition of Patt/Patel
which many of you used in EE306.  There LEA was lumped with the other Loads.
Bad me!  The 3rd edition will correct this.

Finally, all the documentation states that LEA sets the condition codes.  That
is silly, since the purpose of setting condition codes is to be able to branch
on condition codes.  And the value being loaded into the gpr is almost
certainly an address, and so we would almost certainly want to ignore the
condition codes being set, rather than branch on the MSB of that address.
Again, bad me - it will also be corrected in the 3rd edition of the 306 book
and the notes for 460N.

You do not need that correction for lab 1.  You WILL need it for labs 2 and 3.
So, for labs 2 and 3, please note the change: LEA does not set condition codes.

Good luck finishing lab 1 by midnight tonight, and good luck with the rest
of the course.

Yale Patt

</font>
</pre>
</body>
</html>
